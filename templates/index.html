<!DOCTYPE html>
<html>

<head>
    <title>SCED Terminal Search</title>
    <style>
        body {
            background-color: #0d1117;
            color: #3fb950;
            font-family: 'Courier New', Courier, monospace;
            padding: 40px;
            max-width: 800px;
            margin: auto;
        }

        h1 {
            border-bottom: 2px solid #3fb950;
            padding-bottom: 10px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            opacity: 0.8;
        }

        input[type="text"],
        textarea {
            width: 100%;
            background-color: #000;
            border: 1px solid #3fb950;
            color: #3fb950;
            padding: 10px;
            font-family: inherit;
            outline: none;
            box-sizing: border-box;
        }

        input[type="text"]:focus,
        textarea:focus {
            box-shadow: 0 0 5px #3fb950;
        }

        button {
            background-color: #3fb950;
            color: #000;
            border: none;
            padding: 10px 20px;
            font-family: inherit;
            font-weight: bold;
            cursor: pointer;
            text-transform: uppercase;
            margin-top: 10px;
        }

        button:hover {
            background-color: #2ea043;
        }

        /* Results Table Styling */
        .results-area {
            margin-top: 40px;
            border-top: 1px dashed #3fb950;
            padding-top: 20px;
        }

        .result-card {
            border: 1px solid #30363d;
            background: #161b22;
            padding: 15px;
            margin-bottom: 15px;
        }

        .meta {
            color: #8b949e;
            font-size: 0.9em;
            margin-bottom: 5px;
        }

        .highlight {
            color: #d2a8ff;
            font-weight: bold;
        }

        .desc {
            color: #c9d1d9;
            margin-top: 5px;
        }
    </style>
</head>

<body>
    <h1>> SCED_COURSE_SEARCH_V1</h1>

    <form method="POST">
        <div class="input-group">
            <label>> SUBJECT (e.g., MATH, CS):</label>
            <input type="text" name="subject" autocomplete="off">
        </div>

        <div class="input-group">
            <label>> TITLE (e.g., Calculus):</label>
            <input type="text" name="title" autocomplete="off">
        </div>

        <div class="input-group">
            <label>> DESCRIPTION (Semantic Search):</label>
            <textarea name="description" rows="4"></textarea>
        </div>

        <button type="submit">EXECUTE QUERY</button>
    </form>

    {% if submitted %}
    <div class="results-area">
        <h2>> QUERY_RESULTS: {{ results|length }} FOUND</h2>

        {% if results %}
        {% for r in results %}
        <div class="result-card">
            <div class="meta">
                [RANK: {{ r.rank }}] [DIST: {{ r.score }}]
                <span class="highlight">{{ r.subject }} {{ r.course_code }}</span>
            </div>
            <div style="font-weight: bold; margin-bottom: 5px;">{{ r.title }}</div>
            <div class="desc">{{ r.description_snippet }}</div>
        </div>
        {% endfor %}
        {% else %}
        <p>> NO MATCHES FOUND OR INVALID INPUT COMBINATION.</p>
        {% endif %}
    </div>
    {% endif %}
</body>

</html>
